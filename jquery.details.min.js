/*! http://mths.be/details v0.1.0 by @mathias | includes http://mths.be/noselect v1.0.3 */
!function(e,t){var r,n,o,a,i,p,s=t.fn,d="[object Opera]"==Object.prototype.toString.call(window.opera),l="open"in(p=(r=e).createElement("details"))&&(o=r.body||(i=r.documentElement,n=!0,i.insertBefore(r.createElement("body"),i.firstElementChild||i.firstChild)),p.innerHTML="<summary>a</summary>b",p.style.display="block",o.appendChild(p),a=p.offsetHeight,p.open=!0,a=a!=p.offsetHeight,o.removeChild(p),n&&o.parentNode.removeChild(o),a),c=function(e,t,r,n){var o=e.prop("open");o&&n||!o&&!n?(e.removeClass("open").prop("open",!1).removeAttr("open").triggerHandler("close.details"),t.attr("aria-expanded",!1),r.hide()):(e.addClass("open").prop("open",!0).attr("open","open").triggerHandler("open.details"),t.attr("aria-expanded",!0),r.show())};s.noSelect=function(){return this.bind("selectstart dragstart mousedown",function(){return!1}).css({MozUserSelect:"none",msUserSelect:"none",webkitUserSelect:"none",userSelect:"none"})},l?(s.details=function(e){return this.each(function(r){var n=t(this),o=t("summary",n).first();return"open"===e?(n.prop("open","open"),o.attr("aria-expanded",!0),void n.triggerHandler("open.details")):"close"===e?(n.prop("open",!1),o.attr("aria-expanded",!1),void n.triggerHandler("close.details")):(n.attr("id")||n.attr("id","details-id-"+r),n.attr("role","group"),void o.attr({role:"button","aria-expanded":n.prop("open"),"aria-controls":n.attr("id")}).off("click.details").on("click.details",function(){var e=n.prop("open");o.attr("aria-expanded",!e),n.triggerHandler((e?"close":"open")+".details")}))})}).support=l:(s.details=function(e){return this.each(function(r){var n=t(this),o=t("summary",n).first(),a=n.children(":not(script, style, summary)"),i=n.contents(":not(script, style, summary)");return"open"===e?(n.prop("open",!0),void c(n,o,a)):"close"===e?(n.prop("open",!1),void c(n,o,a)):(n.attr("id")||n.attr("id","details-id-"+r),n.attr("role","group"),o.length||(o=t("<summary>").text("Details").prependTo(n)),a.length!=i.length&&(i.filter(function(){return 3==this.nodeType&&/[^ \t\n\f\r]/.test(this.data)}).wrap("<span>"),a=n.children(":not(script, style, summary)")),n.prop("open","string"==typeof n.attr("open")),c(n,o,a),void o.attr({role:"button","aria-controls":n.attr("id")}).noSelect().prop("tabIndex",0).off("click.details").on("click.details",function(){o.focus(),c(n,o,a,!0)}).keyup(function(e){(32==e.keyCode||13==e.keyCode&&!d)&&(e.preventDefault(),o.click())}))})}).support=l}(document,jQuery);
